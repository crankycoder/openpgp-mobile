Command: valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes --error-exitcode=1 --suppressions=/home/vng/dev/openpgp-mobile/c/test/valgrind.supp c/build/test_response_parsing
Timestamp: Fri Jun 20 12:08:31 AM EDT 2025
========================
==1380648== Memcheck, a memory error detector
==1380648== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==1380648== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==1380648== Command: c/build/test_response_parsing
==1380648== 
==1380648== Conditional jump or move depends on uninitialised value(s)
==1380648==    at 0x484F238: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1380648==    by 0x11E544: test_response_parsing_large_keys (test_response_parsing.c:327)
==1380648==    by 0x11F20D: main (test_response_parsing.c:404)
==1380648==  Uninitialised value was created by a stack allocation
==1380648==    at 0x11E477: test_response_parsing_large_keys (test_response_parsing.c:315)
==1380648== 
==1380648== Conditional jump or move depends on uninitialised value(s)
==1380648==    at 0x484F238: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1380648==    by 0x11E63F: test_response_parsing_large_keys (test_response_parsing.c:333)
==1380648==    by 0x11F20D: main (test_response_parsing.c:404)
==1380648==  Uninitialised value was created by a stack allocation
==1380648==    at 0x11E46F: test_response_parsing_large_keys (test_response_parsing.c:315)
==1380648== 
==1380648== Conditional jump or move depends on uninitialised value(s)
==1380648==    at 0x484F238: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1380648==    by 0x12469B: flatcc_builder_create_string_str (in /home/vng/dev/openpgp-mobile/c/build/test_response_parsing)
==1380648==    by 0x1121A3: flatbuffers_string_create_str (flatbuffers_common_builder.h:681)
==1380648==    by 0x11D216: create_keypair_response (test_response_parsing.c:67)
==1380648==    by 0x11E6A8: test_response_parsing_large_keys (test_response_parsing.c:336)
==1380648==    by 0x11F20D: main (test_response_parsing.c:404)
==1380648==  Uninitialised value was created by a stack allocation
==1380648==    at 0x11E46F: test_response_parsing_large_keys (test_response_parsing.c:315)
==1380648== 
==1380648== Conditional jump or move depends on uninitialised value(s)
==1380648==    at 0x484F238: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1380648==    by 0x11D612: test_parse_keypair_response (test_response_parsing.c:152)
==1380648==    by 0x11E79D: test_response_parsing_large_keys (test_response_parsing.c:341)
==1380648==    by 0x11F20D: main (test_response_parsing.c:404)
==1380648==  Uninitialised value was created by a stack allocation
==1380648==    at 0x11E46F: test_response_parsing_large_keys (test_response_parsing.c:315)
==1380648== 
==1380648== Conditional jump or move depends on uninitialised value(s)
==1380648==    at 0x484F238: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==1380648==    by 0x48E9DA7: __printf_buffer (vfprintf-process-arg.c:435)
==1380648==    by 0x490ECC5: __vsnprintf_internal (vsnprintf.c:96)
==1380648==    by 0x48E5405: snprintf (snprintf.c:31)
==1380648==    by 0x11D6CC: test_parse_keypair_response (test_response_parsing.c:160)
==1380648==    by 0x11E79D: test_response_parsing_large_keys (test_response_parsing.c:341)
==1380648==    by 0x11F20D: main (test_response_parsing.c:404)
==1380648==  Uninitialised value was created by a stack allocation
==1380648==    at 0x11E46F: test_response_parsing_large_keys (test_response_parsing.c:315)
==1380648== 
=== FlatBuffer Response Parsing Memory Test Suite ===
Testing Task #6: Response deserialization memory management

Running test_response_parsing_valid_keypair... [32mPASS[0m (6 subtests)
Running test_response_parsing_error_response... [32mPASS[0m (6 subtests)
Running test_response_parsing_null_input... [32mPASS[0m (4 subtests)
Running test_response_parsing_empty_input... [32mPASS[0m (4 subtests)
Running test_response_parsing_malformed_buffer... SKIPPED: Malformed buffer test (FlatBuffer parsing unsafe with corrupted data)
[32mPASS[0m (1 subtests)
Running test_response_parsing_multiple_operations... [32mPASS[0m (21 subtests)
Running test_response_parsing_large_keys... [32mPASS[0m (5 subtests)
Running test_response_parsing_direct_flatbuffer... [32mPASS[0m (9 subtests)

=== Test Suite Complete ===
Tests run: 8/8 major tests passed
Assertions: 56/56 subtests passed
[32mALL TESTS PASSED![0m
==1380648== 
==1380648== HEAP SUMMARY:
==1380648==     in use at exit: 0 bytes in 0 blocks
==1380648==   total heap usage: 155 allocs, 155 frees, 62,887 bytes allocated
==1380648== 
==1380648== All heap blocks were freed -- no leaks are possible
==1380648== 
==1380648== For lists of detected and suppressed errors, rerun with: -s
==1380648== ERROR SUMMARY: 14 errors from 5 contexts (suppressed: 0 from 0)
